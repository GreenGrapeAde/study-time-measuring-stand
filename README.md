# 📚 공부시간 측정 스탠드

임베디드시스템 설계 및 실험 과목의 텀 프로젝트로 개발된 **공부시간 측정 스탠드**입니다. STM32 보드와 다양한 센서를 활용하여 사용자의 공부 시간을 측정하고, LED 색상 및 LCD 출력을 통해 실시간 피드백을 제공합니다. Bluetooth를 통한 외부 장치(스마트폰)와의 연동도 지원합니다.

## 🛠 주요 기능

- **사용자 감지 및 자동 점등**  
  - 적외선 센서를 이용하여 사용자 존재를 감지  
  - 터치센서 입력 시 자동으로 LED 점등 및 타이머 세팅

- **모드 전환 버튼 제어**  
  - 버튼 1: 공부 모드 (집중 시작 / 재개, LED 초록)  
  - 버튼 3: 휴식 모드 (일시 정지, LED 파랑)  
  - 버튼 2: 종료 및 블루투스 전송 (LED 빨강)

- **자동 자리비움 감지**  
  - 집중 중 5초간 자리비움 발생 시 자동 휴식 모드 전환  

- **LCD 출력 및 Bluetooth 전송**  
  - 공부 시간 실시간 표시  
  - 종료 시 누적 공부 시간 Bluetooth로 전송  

## 🔧 사용 센서 및 장치

- 적외선 센서 (PA4): 사용자 감지  
- 터치 센서 (PB1): 점등 트리거  
- 조도 센서 (PA1): 환경 밝기 측정 (입력 핀 설정만 되어 있으며, 본 프로젝트에서는 기능적으로 사용하지 않음)  
- LCD 모듈: 공부 시간 등 정보 표시  
- RGB LED (GPIOD 7, 8, 9): 상태 표시  
- Bluetooth (USART1): 스마트폰 연동  
- 타이머 (TIM2): 1초 간격 시간 측정  
- 버튼 1, 2, 3: 모드 제어

## 📁 파일 구성

- `main.c` : 전체 센서 제어, 타이머 설정, 인터럽트, LCD 출력 및 Bluetooth 통신 등 모든 기능이 포함된 메인 코드 파일


## 📌 기본 동작 시나리오

1. 사용자가 스탠드 앞에 앉으면 적외선 센서가 이를 감지하고, 터치센서 입력으로 시스템이 활성화됨  
2. 버튼 1을 눌러 집중 모드 진입 → 타이머 시작, LED 초록색 점등  
3. 자리비움 5초 이상 시 자동 휴식모드 전환 (LED 파랑)  
4. 버튼 3으로 수동 휴식모드 전환 가능  
5. 버튼 2를 눌러 종료 시 총 공부시간이 Bluetooth로 출력, LED 빨강  

## 🧑‍💻 개발 환경

- STM32F107VCT6 보드
- IAR Embedded Workbench
- C 언어 (로우레벨 방식, HAL 미사용)
- Windows 환경 + Putty (Bluetooth Serial 출력 확인)

---

> 본 프로젝트는 임베디드시스템 하드웨어 제어, 타이머 인터럽트, UART 기반 통신, 센서 입력처리 등을 실습하기 위한 학습 목적으로 제작되었습니다.
